/*!
 * vue-swipe-actions v2.0.0-beta.20
 * (c) 2016-present eCollect
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):(e=e||self)["vue-swipe-actions"]=t(e.Vue)}(this,function(e){"use strict";if(void 0!==e){e=e&&e.hasOwnProperty("default")?e.default:e;var t={};Object.defineProperty(t,"passive",{configurable:!0,get:function(){var e;try{var i=Object.defineProperty({},"passive",{get:function(){e={passive:!0}}});window.addEventListener("qtest",null,i),window.removeEventListener("qtest",null,i)}catch(e){}return t.passive=e,e},set:function(e){Object.defineProperty(this,"passive",{value:e})}});var i={name:"SwipeOut",directives:{touchPan:{name:"touch-pan",bind:function(e,i){var s=!0===i.modifiers.mouse,l=!0!==i.modifiers.mouseMightPrevent&&!0!==i.modifiers.mousePrevent,d=void 0===t.passive||{passive:l,capture:!0},c=!0!==i.modifiers.mightPrevent&&!0!==i.modifiers.prevent?t.passive:null;function h(e,t){s&&t?(i.modifiers.mouseStop&&e.stopPropagation(),i.modifiers.mousePrevent&&e.preventDefault()):(i.modifiers.stop&&e.stopPropagation(),i.modifiers.prevent&&e.preventDefault())}var u={handler:i.value,direction:r(i.modifiers),mouseStart:function(e){0===e.button&&(document.addEventListener("mousemove",u.move,d),document.addEventListener("mouseup",u.mouseEnd,d),u.start(e,!0))},mouseEnd:function(e){document.removeEventListener("mousemove",u.move,d),document.removeEventListener("mouseup",u.mouseEnd,d),u.end(e)},start:function(t,i){o(u),!0!==i&&function(e,t,i){var s=t.target;i.touchTargetObserver=new MutationObserver(function(){!1===e.contains(s)&&i.end(t)}),i.touchTargetObserver.observe(e,{childList:!0,subtree:!0})}(e,t,u);var s=n(t);u.event={x:s.left,y:s.top,time:(new Date).getTime(),mouse:!0===i,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:s.left,lastY:s.top}},move:function(e){if(u.event&&!0!==u.event.abort)if(!0!==u.event.detected){var t=n(e),s=Math.abs(t.left-u.event.x),o=Math.abs(t.top-u.event.y);s!==o&&(u.event.detected=!0,!1!==u.direction.all||!1!==u.event.mouse&&!0===i.modifiers.mouseAllDir||(u.event.abort=u.direction.vertical?s>o:s<o),!0!==u.event.abort&&(document.documentElement.style.cursor="grabbing",document.body.classList.add("swipeout-no-pointer-events"),document.body.classList.add("swipeout-non-selectable")),u.move(e))}else{h(e,u.event.mouse);var r=a(e,u,!1);(function(e,t){return!(!e.direction.horizontal||!e.direction.vertical)||(e.direction.horizontal&&!e.direction.vertical?Math.abs(t.delta.x)>0:!e.direction.horizontal&&e.direction.vertical?Math.abs(t.delta.y)>0:void 0)})(u,r)&&(u.handler(r),u.event.lastX=r.position.left,u.event.lastY=r.position.top,u.event.isFirst=!1)}},end:function(e){u.event&&(!0!==u.event.mouse&&o(u),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable"),!0!==u.event.abort&&!0===u.event.detected&&!0!==u.event.isFirst&&(h(e,u.event.mouse),u.handler(a(e,u,!0))))}};e.__qtouchpan&&(e.__qtouchpan_old=e.__qtouchpan),e.__qtouchpan=u,!0===s&&e.addEventListener("mousedown",u.mouseStart,d),e.addEventListener("touchstart",u.start,c),e.addEventListener("touchmove",u.move,c),e.addEventListener("touchcancel",u.end,c),e.addEventListener("touchend",u.end,c)},update:function(e,t){var i=t.oldValue,s=t.value,n=t.modifiers,o=e.__qtouchpan;i!==s&&(o.handler=s),n.horizontal===o.direction.horizontal&&n.vertical===o.direction.vertical||(o.direction=r(n))},unbind:function(e,i){var s=e.__qtouchpan_old||e.__qtouchpan;if(void 0!==s){o(s),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable");var n=!0===i.modifiers.mouse,r=!0!==i.modifiers.mouseMightPrevent&&!0!==i.modifiers.mousePrevent,a=void 0===t.passive||{passive:r,capture:!0},l=!0!==i.modifiers.mightPrevent&&!0!==i.modifiers.prevent?t.passive:null;!0===n&&(e.removeEventListener("mousedown",s.mouseStart,a),document.removeEventListener("mousemove",s.move,a),document.removeEventListener("mouseup",s.mouseEnd,a)),e.removeEventListener("touchstart",s.start,l),e.removeEventListener("touchmove",s.move,l),e.removeEventListener("touchcancel",s.end,l),e.removeEventListener("touchend",s.end,l),delete e[e.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}}},props:{threshold:{type:Number,default:45},revealed:{type:[String,Boolean]},disabled:{type:Boolean,default:!1},passiveListeners:{type:Boolean,default:!1}},watch:{revealed:function(e){this.innerRevealed!==e&&this._reveal(e,!0)}},data:function(){return{innerRevealed:this.revealed||!1}},methods:{closeActions:function(){this.close()},close:function(){this._isActive||this._reveal(!1,!0)},revealLeft:function(){!this._isActive&&this.$refs.left&&this._reveal("left",!0)},revealRight:function(){!this._isActive&&this.$refs.right&&this._reveal("right",!0)},_distanceSwiped:function(){var e=this.$refs.content.getBoundingClientRect(),t=this.$el.getBoundingClientRect();return e.left-t.left-this.$el.clientLeft},_onPan:function(e){return this.disabled?null:e.isFirst?this._startListener(e):this._isActive?e.isFinal?this._stopListener(e):this._swipeListener(e):null},_startListener:function(e){var t=e.distance;this.$el.classList.add("swipeout--no-transition"),t.y<=5&&(this._leftActionsWidth=this.$refs.left?this.$refs.left.clientWidth:0,this._rightActionsWidth=this.$refs.right?this.$refs.right.clientWidth:0,this._startLeft=this._distanceSwiped(),this._isActive=!0,this.$emit("active",!0),clearTimeout(this._timer))},_swipeListener:function(e){var t=e.offset,i=t.x+this._startLeft;return!this.$scopedSlots.left&&i>0?this._animateSlide(0):!this.$scopedSlots.right&&i<0?this._animateSlide(0):this._animateSlide(t.x+this._startLeft)},_stopListener:function(e){var t=e.offset,i=e.distance;this.$el.classList.remove("swipeout--no-transition"),this._isActive=!1,this.$emit("active",!1);var s=this._startLeft+t.x;return 0===this._startLeft&&Math.abs(s)<=this.threshold||i.x>=this.threshold&&(this._startLeft>0&&i.x<this._leftActionsWidth||this._startLeft<0&&i.x<this._rightActionsWidth)?this._reveal(!1):this._reveal(s>0?"left":"right")},_reveal:function(e,t){var i,s;if(!this._isActive||(i=this.innerRevealed,s=e,(i||s)&&i!==s))return e&&!this.$refs[e]&&(e=!1),this.innerRevealed=e,this.$emit("update:revealed",e),e?"left"===e&&this.$refs.left?(this._leftActionsWidth=t?d(this.$refs.left):this._leftActionsWidth,this._animateSlide(this._leftActionsWidth),this.$emit("revealed",{side:"left",close:this.closeActions}),void this.$emit("leftRevealed",{close:this.closeActions})):void("right"===e&&this.$refs.right&&(this._rightActionsWidth=t?d(this.$refs.right):this._rightActionsWidth,this._animateSlide(-this._rightActionsWidth),this.$emit("revealed",{side:"right",close:this.closeActions}),this.$emit("rightRevealed",{close:this.closeActions}))):(this._animateSlide(0),void this.$emit("closed"))},_shiftLeftActions:function(e){if(this.$scopedSlots.left){e<0&&(e=0);for(var t=this.$refs.left,i=this._leftActionsWidth,s=1-Math.min(e/i,1),n=Math.min(e,i),o=t.children,r=o.length,a=0;a<r;a++){var d=o[a],c=i-d.offsetLeft-d.offsetWidth;d.style.transform=l(n+c*s),r>1&&(d.style.zIndex=""+(r-a))}}},_shiftRightActions:function(e){if(this.$scopedSlots.right){e>0&&(e=0);for(var t=this.$refs.right,i=this._rightActionsWidth,s=1+Math.max(e/i,-1),n=Math.max(e,-i),o=t.children,r=0;r<o.length;r++){var a=o[r];a.style.transform=l(n-a.offsetLeft*s)}}},_animateSlide:function(e){var t=this;cancelAnimationFrame(this._frame),this._frame=requestAnimationFrame(function(){t.$refs.content.style.transform=l(e),t._shiftLeftActions(e),t._shiftRightActions(e)})}},render:function(e){var t=[],i=this.$scopedSlots,s=i.left,n=i.right,o=i.default;return s&&t.push(e("div",{ref:"left",staticClass:"swipeout-left"},s({close:this.closeActions}))),n&&t.push(e("div",{ref:"right",staticClass:"swipeout-right"},n({close:this.closeActions}))),t.push(e("div",{ref:"content",staticClass:"swipeout-content",directives:this.disabled||!s&&!n?null:[{name:"touch-pan",value:this._onPan,modifiers:{horizontal:!0,mouse:!0,prevent:!this.passiveListeners,mousePrevent:!0}}]},o?o({revealLeft:this.revealLeft,revealRight:this.revealRight,disabled:this.disabled,close:this.closeActions,revealed:this.innerRevealed}):null)),e("div",{staticClass:"swipeout",class:{"swipeout--disabled":this.disabled}},t)},beforeDestroy:function(){clearTimeout(this._timer),cancelAnimationFrame(this._frame)}},s={name:"SwipeList",props:{items:{type:Array,required:!0},itemKey:{type:String},transitionKey:{type:String},threshold:{type:Number,default:45},revealed:{type:Object},disabled:{type:Boolean,default:!1},itemDisabled:{type:Function,default:function(){return!1}},passiveListeners:{type:Boolean,default:!1}},data:function(){return{innerRevealed:this.revealed||{},rev:this.items.map(function(){return null})}},watch:{revealed:function(e){this.innerRevealed=e},items:function(){this._emitRevealed({})}},methods:{revealRight:function(e){this.$refs.items[e]&&this.$refs.items[e].revealRight()},revealLeft:function(e){this.$refs.items[e]&&this.$refs.items[e].revealLeft()},close:function(e){if(this.$refs.items){if(void 0===e)return this.$refs.items.forEach(function(e){return e.close()});if(this.$refs.items[e])return this.$refs.items[e].close()}},isRevealed:function(e){return this.innerRevealed[e]||!1},closeActions:function(e){this.close(e)},_onReveal:function(e,t,i){var s;this.$emit("revealed",{index:t,item:e,side:i.side,close:i.close}),this._emitRevealed(Object.assign({},this.innerRevealed,((s={})[t]=i.side,s)))},_onClose:function(e,t){this.$emit("closed",{index:t,item:e});var i=this.innerRevealed,s=(i[t],function(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&-1===t.indexOf(s)&&(i[s]=e[s]);return i}(i,[String(t)]));this._emitRevealed(s)},_getItemKey:function(e,t){return void 0!==(this.itemKey||this.transitionKey)?e[this.itemKey||this.transitionKey]:t},_emitRevealed:function(e){void 0===this.revealed?this.innerRevealed=e:this.$emit("update:revealed",e)},__renderItem:function(e,t,s){var n=this,o=this.$scopedSlots,r=o.left,a=o.right,l=o.default,d={};return r&&(d.left=function(e){var i=e.close;return r({item:t,close:i,index:s})}),a&&(d.right=function(e){var i=e.close;return a({item:t,close:i,index:s})}),d.default=function(i){var o=i.close,r=i.disabled,a=i.revealLeft,d=i.revealRight,c=i.revealed;return e("div",{ref:"itemsContent",on:{click:function(){return n.$emit("swipeout:click",t)}}},l({item:t,index:s,close:o,disabled:r,revealed:c,revealLeft:a,revealRight:d}))},e(i,{key:s,ref:"items",refInFor:!0,staticClass:"swipeout-list-item",props:{disabled:this.disabled||this.itemDisabled(t),threshold:this.threshold,revealed:this.innerRevealed[s],passiveListeners:this.passiveListeners},on:{revealed:function(e){return n._onReveal(t,s,e)},leftRevealed:function(e){return n.$emit("leftRevealed",{index:s,item:t,close:e.close})},rightRevealed:function(e){return n.$emit("rightRevealed",{index:s,item:t,close:e.close})},closed:function(e){return n._onClose(t,s,e)},active:function(e){return n.$emit("active",e)}},scopedSlots:d})}},render:function(e){var t=this;return e("div",{staticClass:"swipeout-list",class:{"swipeout--disabled":this.disabled}},this.items.map(function(i,s){return t.__renderItem(e,i,s)}))}};return e.use({install:function(e){e.component("SwipeList",s),e.component("SwipeOut",i)}}),{SwipeList:s,SwipeOut:i}}function n(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),{top:e.clientY,left:e.clientX}}function o(e){void 0!==e.touchTargetObserver&&(e.touchTargetObserver.disconnect(),e.touchTargetObserver=void 0)}function r(e){var t=!0!==e.horizontal&&!0!==e.vertical,i={all:!0===t||!0===e.horizontal&&!0===e.vertical};return!0!==e.horizontal&&!0!==t||(i.horizontal=!0),!0!==e.vertical&&!0!==t||(i.vertical=!0),i}function a(e,t,i){var s=n(e),o=s.left-t.event.x,r=s.top-t.event.y,a=Math.abs(o),l=Math.abs(r);return{evt:e,position:s,direction:t.direction.horizontal&&!t.direction.vertical?o<0?"left":"right":!t.direction.horizontal&&t.direction.vertical?r<0?"up":"down":a>=l?o<0?"left":"right":r<0?"up":"down",isFirst:t.event.isFirst,isFinal:!0===i,isMouse:t.event.mouse,duration:(new Date).getTime()-t.event.time,distance:{x:a,y:l},offset:{x:o,y:r},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}function l(e){return 0===e?"":"translate3d("+e+"px, 0, 0)"}function d(e){return e?e.clientWidth:0}console.error("[ Quasar ] Vue is required to run. Please add a script tag for it before loading Quasar.")});