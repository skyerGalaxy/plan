/*!
 * vue-swipe-actions v2.0.0-beta.20
 * (c) 2016-present eCollect
 * Released under the MIT License.
 */
var listenOpts={};function leftClick(e){return 0===e.button}function position(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),{top:e.clientY,left:e.clientX}}function setObserver(e,t,i){var s=t.target;i.touchTargetObserver=new MutationObserver(function(){!1===e.contains(s)&&i.end(t)}),i.touchTargetObserver.observe(e,{childList:!0,subtree:!0})}function removeObserver(e){void 0!==e.touchTargetObserver&&(e.touchTargetObserver.disconnect(),e.touchTargetObserver=void 0)}function getDirection(e){var t=!0!==e.horizontal&&!0!==e.vertical,i={all:!0===t||!0===e.horizontal&&!0===e.vertical};return!0!==e.horizontal&&!0!==t||(i.horizontal=!0),!0!==e.vertical&&!0!==t||(i.vertical=!0),i}function processChanges(e,t,i){var s=position(e),n=s.left-t.event.x,o=s.top-t.event.y,r=Math.abs(n),a=Math.abs(o);return{evt:e,position:s,direction:t.direction.horizontal&&!t.direction.vertical?n<0?"left":"right":!t.direction.horizontal&&t.direction.vertical?o<0?"up":"down":r>=a?n<0?"left":"right":o<0?"up":"down",isFirst:t.event.isFirst,isFinal:!0===i,isMouse:t.event.mouse,duration:(new Date).getTime()-t.event.time,distance:{x:r,y:a},offset:{x:n,y:o},delta:{x:s.left-t.event.lastX,y:s.top-t.event.lastY}}}function shouldTrigger(e,t){return!(!e.direction.horizontal||!e.direction.vertical)||(e.direction.horizontal&&!e.direction.vertical?Math.abs(t.delta.x)>0:!e.direction.horizontal&&e.direction.vertical?Math.abs(t.delta.y)>0:void 0)}Object.defineProperty(listenOpts,"passive",{configurable:!0,get:function(){var e;try{var t=Object.defineProperty({},"passive",{get:function(){e={passive:!0}}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch(e){}return listenOpts.passive=e,e},set:function(e){Object.defineProperty(this,"passive",{value:e})}});var touchPan={name:"touch-pan",bind:function(e,t){var i=!0===t.modifiers.mouse,s=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,n=void 0===listenOpts.passive||{passive:s,capture:!0},o=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent?listenOpts.passive:null;function r(e,s){i&&s?(t.modifiers.mouseStop&&e.stopPropagation(),t.modifiers.mousePrevent&&e.preventDefault()):(t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault())}var a={handler:t.value,direction:getDirection(t.modifiers),mouseStart:function(e){leftClick(e)&&(document.addEventListener("mousemove",a.move,n),document.addEventListener("mouseup",a.mouseEnd,n),a.start(e,!0))},mouseEnd:function(e){document.removeEventListener("mousemove",a.move,n),document.removeEventListener("mouseup",a.mouseEnd,n),a.end(e)},start:function(t,i){removeObserver(a),!0!==i&&setObserver(e,t,a);var s=position(t);a.event={x:s.left,y:s.top,time:(new Date).getTime(),mouse:!0===i,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:s.left,lastY:s.top}},move:function(e){if(a.event&&!0!==a.event.abort)if(!0!==a.event.detected){var i=position(e),s=Math.abs(i.left-a.event.x),n=Math.abs(i.top-a.event.y);s!==n&&(a.event.detected=!0,!1!==a.direction.all||!1!==a.event.mouse&&!0===t.modifiers.mouseAllDir||(a.event.abort=a.direction.vertical?s>n:s<n),!0!==a.event.abort&&(document.documentElement.style.cursor="grabbing",document.body.classList.add("swipeout-no-pointer-events"),document.body.classList.add("swipeout-non-selectable")),a.move(e))}else{r(e,a.event.mouse);var o=processChanges(e,a,!1);shouldTrigger(a,o)&&(a.handler(o),a.event.lastX=o.position.left,a.event.lastY=o.position.top,a.event.isFirst=!1)}},end:function(e){a.event&&(!0!==a.event.mouse&&removeObserver(a),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable"),!0!==a.event.abort&&!0===a.event.detected&&!0!==a.event.isFirst&&(r(e,a.event.mouse),a.handler(processChanges(e,a,!0))))}};e.__qtouchpan&&(e.__qtouchpan_old=e.__qtouchpan),e.__qtouchpan=a,!0===i&&e.addEventListener("mousedown",a.mouseStart,n),e.addEventListener("touchstart",a.start,o),e.addEventListener("touchmove",a.move,o),e.addEventListener("touchcancel",a.end,o),e.addEventListener("touchend",a.end,o)},update:function(e,t){var i=t.oldValue,s=t.value,n=t.modifiers,o=e.__qtouchpan;i!==s&&(o.handler=s),n.horizontal===o.direction.horizontal&&n.vertical===o.direction.vertical||(o.direction=getDirection(n))},unbind:function(e,t){var i=e.__qtouchpan_old||e.__qtouchpan;if(void 0!==i){removeObserver(i),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable");var s=!0===t.modifiers.mouse,n=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,o=void 0===listenOpts.passive||{passive:n,capture:!0},r=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent?listenOpts.passive:null;!0===s&&(e.removeEventListener("mousedown",i.mouseStart,o),document.removeEventListener("mousemove",i.move,o),document.removeEventListener("mouseup",i.mouseEnd,o)),e.removeEventListener("touchstart",i.start,r),e.removeEventListener("touchmove",i.move,r),e.removeEventListener("touchcancel",i.end,r),e.removeEventListener("touchend",i.end,r),delete e[e.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}};function translateX(e){return 0===e?"":"translate3d("+e+"px, 0, 0)"}function clientWidth(e){return e?e.clientWidth:0}function areEqual(e,t){return!e&&!t||e===t}var SwipeOut={name:"SwipeOut",directives:{touchPan:touchPan},props:{threshold:{type:Number,default:45},revealed:{type:[String,Boolean]},disabled:{type:Boolean,default:!1},passiveListeners:{type:Boolean,default:!1}},watch:{revealed:function(e){this.innerRevealed!==e&&this._reveal(e,!0)}},data:function(){return{innerRevealed:this.revealed||!1}},methods:{closeActions:function(){this.close()},close:function(){this._isActive||this._reveal(!1,!0)},revealLeft:function(){!this._isActive&&this.$refs.left&&this._reveal("left",!0)},revealRight:function(){!this._isActive&&this.$refs.right&&this._reveal("right",!0)},_distanceSwiped:function(){var e=this.$refs.content.getBoundingClientRect(),t=this.$el.getBoundingClientRect();return e.left-t.left-this.$el.clientLeft},_onPan:function(e){return this.disabled?null:e.isFirst?this._startListener(e):this._isActive?e.isFinal?this._stopListener(e):this._swipeListener(e):null},_startListener:function(e){var t=e.distance;this.$el.classList.add("swipeout--no-transition"),t.y<=5&&(this._leftActionsWidth=this.$refs.left?this.$refs.left.clientWidth:0,this._rightActionsWidth=this.$refs.right?this.$refs.right.clientWidth:0,this._startLeft=this._distanceSwiped(),this._isActive=!0,this.$emit("active",!0),clearTimeout(this._timer))},_swipeListener:function(e){var t=e.offset,i=t.x+this._startLeft;return!this.$scopedSlots.left&&i>0?this._animateSlide(0):!this.$scopedSlots.right&&i<0?this._animateSlide(0):this._animateSlide(t.x+this._startLeft)},_stopListener:function(e){var t=e.offset,i=e.distance;this.$el.classList.remove("swipeout--no-transition"),this._isActive=!1,this.$emit("active",!1);var s=this._startLeft+t.x;return 0===this._startLeft&&Math.abs(s)<=this.threshold||i.x>=this.threshold&&(this._startLeft>0&&i.x<this._leftActionsWidth||this._startLeft<0&&i.x<this._rightActionsWidth)?this._reveal(!1):this._reveal(s>0?"left":"right")},_reveal:function(e,t){if(!this._isActive||!areEqual(this.innerRevealed,e))return e&&!this.$refs[e]&&(e=!1),this.innerRevealed=e,this.$emit("update:revealed",e),e?"left"===e&&this.$refs.left?(this._leftActionsWidth=t?clientWidth(this.$refs.left):this._leftActionsWidth,this._animateSlide(this._leftActionsWidth),this.$emit("revealed",{side:"left",close:this.closeActions}),void this.$emit("leftRevealed",{close:this.closeActions})):void("right"===e&&this.$refs.right&&(this._rightActionsWidth=t?clientWidth(this.$refs.right):this._rightActionsWidth,this._animateSlide(-this._rightActionsWidth),this.$emit("revealed",{side:"right",close:this.closeActions}),this.$emit("rightRevealed",{close:this.closeActions}))):(this._animateSlide(0),void this.$emit("closed"))},_shiftLeftActions:function(e){if(this.$scopedSlots.left){e<0&&(e=0);for(var t=this.$refs.left,i=this._leftActionsWidth,s=1-Math.min(e/i,1),n=Math.min(e,i),o=t.children,r=o.length,a=0;a<r;a++){var l=o[a],c=i-l.offsetLeft-l.offsetWidth;l.style.transform=translateX(n+c*s),r>1&&(l.style.zIndex=""+(r-a))}}},_shiftRightActions:function(e){if(this.$scopedSlots.right){e>0&&(e=0);for(var t=this.$refs.right,i=this._rightActionsWidth,s=1+Math.max(e/i,-1),n=Math.max(e,-i),o=t.children,r=0;r<o.length;r++){var a=o[r];a.style.transform=translateX(n-a.offsetLeft*s)}}},_animateSlide:function(e){var t=this;cancelAnimationFrame(this._frame),this._frame=requestAnimationFrame(function(){t.$refs.content.style.transform=translateX(e),t._shiftLeftActions(e),t._shiftRightActions(e)})}},render:function(e){var t=[],i=this.$scopedSlots,s=i.left,n=i.right,o=i.default;return s&&t.push(e("div",{ref:"left",staticClass:"swipeout-left"},s({close:this.closeActions}))),n&&t.push(e("div",{ref:"right",staticClass:"swipeout-right"},n({close:this.closeActions}))),t.push(e("div",{ref:"content",staticClass:"swipeout-content",directives:this.disabled||!s&&!n?null:[{name:"touch-pan",value:this._onPan,modifiers:{horizontal:!0,mouse:!0,prevent:!this.passiveListeners,mousePrevent:!0}}]},o?o({revealLeft:this.revealLeft,revealRight:this.revealRight,disabled:this.disabled,close:this.closeActions,revealed:this.innerRevealed}):null)),e("div",{staticClass:"swipeout",class:{"swipeout--disabled":this.disabled}},t)},beforeDestroy:function(){clearTimeout(this._timer),cancelAnimationFrame(this._frame)}};function objectWithoutProperties(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&-1===t.indexOf(s)&&(i[s]=e[s]);return i}var SwipeList={name:"SwipeList",props:{items:{type:Array,required:!0},itemKey:{type:String},transitionKey:{type:String},threshold:{type:Number,default:45},revealed:{type:Object},disabled:{type:Boolean,default:!1},itemDisabled:{type:Function,default:function(){return!1}},passiveListeners:{type:Boolean,default:!1}},data:function(){return{innerRevealed:this.revealed||{},rev:this.items.map(function(){return null})}},watch:{revealed:function(e){this.innerRevealed=e},items:function(){this._emitRevealed({})}},methods:{revealRight:function(e){this.$refs.items[e]&&this.$refs.items[e].revealRight()},revealLeft:function(e){this.$refs.items[e]&&this.$refs.items[e].revealLeft()},close:function(e){if(this.$refs.items){if(void 0===e)return this.$refs.items.forEach(function(e){return e.close()});if(this.$refs.items[e])return this.$refs.items[e].close()}},isRevealed:function(e){return this.innerRevealed[e]||!1},closeActions:function(e){this.close(e)},_onReveal:function(e,t,i){var s;this.$emit("revealed",{index:t,item:e,side:i.side,close:i.close}),this._emitRevealed(Object.assign({},this.innerRevealed,((s={})[t]=i.side,s)))},_onClose:function(e,t){this.$emit("closed",{index:t,item:e});var i=this.innerRevealed,s=(i[t],objectWithoutProperties(i,[String(t)]));this._emitRevealed(s)},_getItemKey:function(e,t){return void 0!==(this.itemKey||this.transitionKey)?e[this.itemKey||this.transitionKey]:t},_emitRevealed:function(e){void 0===this.revealed?this.innerRevealed=e:this.$emit("update:revealed",e)},__renderItem:function(e,t,i){var s=this,n=this.$scopedSlots,o=n.left,r=n.right,a=n.default,l={};return o&&(l.left=function(e){var s=e.close;return o({item:t,close:s,index:i})}),r&&(l.right=function(e){var s=e.close;return r({item:t,close:s,index:i})}),l.default=function(n){var o=n.close,r=n.disabled,l=n.revealLeft,c=n.revealRight,d=n.revealed;return e("div",{ref:"itemsContent",on:{click:function(){return s.$emit("swipeout:click",t)}}},a({item:t,index:i,close:o,disabled:r,revealed:d,revealLeft:l,revealRight:c}))},e(SwipeOut,{key:i,ref:"items",refInFor:!0,staticClass:"swipeout-list-item",props:{disabled:this.disabled||this.itemDisabled(t),threshold:this.threshold,revealed:this.innerRevealed[i],passiveListeners:this.passiveListeners},on:{revealed:function(e){return s._onReveal(t,i,e)},leftRevealed:function(e){return s.$emit("leftRevealed",{index:i,item:t,close:e.close})},rightRevealed:function(e){return s.$emit("rightRevealed",{index:i,item:t,close:e.close})},closed:function(e){return s._onClose(t,i,e)},active:function(e){return s.$emit("active",e)}},scopedSlots:l})}},render:function(e){var t=this;return e("div",{staticClass:"swipeout-list",class:{"swipeout--disabled":this.disabled}},this.items.map(function(i,s){return t.__renderItem(e,i,s)}))}},index_esm={install:function(e){e.component("SwipeList",SwipeList),e.component("SwipeOut",SwipeOut)},SwipeList:SwipeList,SwipeOut:SwipeOut};export default index_esm;export{SwipeList,SwipeOut};